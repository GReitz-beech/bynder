<link rel="stylesheet" type="text/css"
      href="https://d8ejoa1fys2rk.cloudfront.net/modules/compactview/includes/css/compactview_global-1.0.1.css">

<div id="bynder-compactview"
     data-language="{language}"
     data-button="Pick a file from Bynder"
     data-folder="bynder-compactview"
     data-zindex="300"
     data-collections="false"
     data-header="false"
     data-autoload="true"
     data-fullScreen="true"
     data-defaultEnvironment="{apiBaseUrl}"
     data-button-id="1"
></div>
<script src="https://d8ejoa1fys2rk.cloudfront.net/modules/compactview/includes/js/client-1.0.1.min.js"></script>

<div id="importedAssets"></div>
<script>
    var element = ".{element}";
    document.addEventListener('BynderAddMedia', function (e) {
        var media = [],
            selectedAssets = e.detail;
        for (var i = 0; i < selectedAssets.length; i++) {
            media.push(selectedAssets[i].id);
        }
        var details = {media: media, 'element': element},
            parentDocument = parent.document,
            contentIframe = parent.document.getElementById('typo3-contentIframe');

        if (contentIframe) {
            parentDocument = contentIframe.contentDocument;
        }

        parentDocument.dispatchEvent(new CustomEvent("BynderAddMedia", {"detail": details}));
    });
</script>